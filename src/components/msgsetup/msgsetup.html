<ion-header>
  <ion-toolbar>
    <ion-title>Sharing Setup</ion-title>
    <ion-buttons start>
      <button ion-button (click)="close()">
        <span ion-text color="primary" showWhen="ios">Cancel</span>
        <ion-icon name="md-close" showWhen="android, windows"></ion-icon>
      </button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="cards-bg social-cards">
    <ion-card id="idMsgSetupCard">
      <ion-card-content>
            <h4>Share Your MapLinkr Session</h4>
            <ion-item>
                <ion-label>Fetch the link to the current ArcGIS Online map:</ion-label>
            </ion-item>
                <button ion-button
                    color="btn-primary" (click)="fetchUrl()">Assemble Url
                </button>
            <div class="clipgrid">
                <ion-item class="url-field">
                    <!-- <ion-input id="copyTarget" type="text" [(ngModel)]="urlCopyField"></ion-input> -->
                    <textarea id="copyTarget" type="text" style="width: 100%" value="url to copy" #urlInput [(ngModel)]="urlCopyField"></textarea>

                </ion-item>
                <ion-item class="url-copy-label">
                    <ion-label>Copy url to clipboard</ion-label>
                </ion-item>
                <button ion-button id="cpyBtn" class="url-copy-button" (click)="copyUrlField(urlInput)">
                    <img src="assets/imgs/clippy.svg" alt="Copy to clipboard">
                </button>
                <ion-item *ngIf="instructionsVisible" class="url-copy-info">
                    <ion-label style="white-space: normal">
                        The url is now focused and selected.
                        Now use Ctrl-C to copy to clipboard.
                        Then paste the link into an email, text message, or chat session.
                    </ion-label>
                </ion-item>
            </div>
            <ion-item>
                <button ion-button color="btn-secondary" (click)="close()">Cancel</button>
            </ion-item>
        </ion-card-content>
    </ion-card>
  </ion-content>
